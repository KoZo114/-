<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ê°úËàû„ÅÜÁ©∫„Ç≠„É£„ÉÉ„ÉÅ„Ç≤„Éº„É† - Á©∂Ê•µÁâà</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      -webkit-touch-callout: none;
      -webkit-tap-highlight-color: transparent;
    }

    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap');

    body {
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      position: relative;
      background: linear-gradient(135deg,
        #ffeef5 0%, #ffe8f0 25%, #f8e8ff 50%, #e8f0ff 75%, #f0f8ff 100%
      );
      font-family: 'Noto Sans JP', sans-serif;
      touch-action: manipulation;
      -webkit-overflow-scrolling: touch;
    }

    /* (ÁúÅÁï•„Åï„Çå„ÅüCSS„Çπ„Çø„Ç§„É´ ... „ÅîÊèêÁ§∫„ÅÆ„ÇÇ„ÅÆ„Çí„Åù„ÅÆ„Åæ„Åæ‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ) */
    /* „Éë„Éº„ÉÜ„Ç£„ÇØ„É´ËÉåÊôØÂäπÊûú */
    .bg-particle {
      position: absolute;
      background: rgba(255, 182, 193, 0.3);
      border-radius: 50%;
      pointer-events: none;
      animation: float-bg linear infinite;
      z-index: 0;
    }

    @keyframes float-bg {
      0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
    }

    #character {
      position: absolute;
      bottom: 80px;
      left: 50%;
      transform: translateX(-50%);
      max-height: 25vh; /* „Ç≠„É£„É©„ÇØ„Çø„Éº„ÅÆÈ´ò„Åï„Å´Âêà„Çè„Åõ„Å¶Ë™øÊï¥ */
      max-width: 120px;  /* „Ç≠„É£„É©„ÇØ„Çø„Éº„ÅÆÂπÖ„Å´Âêà„Çè„Åõ„Å¶Ë™øÊï¥ */
      height: auto;      /* „Ç¢„Çπ„Éö„ÇØ„ÉàÊØî„Çí‰øù„Å§ */
      z-index: 5;
      filter: drop-shadow(2px 4px 8px rgba(0,0,0,0.2));
      transition: all 0.3s ease;
    }

    #character.jump {
      animation: jump 0.6s ease;
    }

    #character.powerup {
      filter: drop-shadow(0 0 15px #FFD700) drop-shadow(2px 4px 8px rgba(0,0,0,0.2));
      transform: translateX(-50%) scale(1.1);
    }

    @keyframes jump {
      0%   { transform: translateX(-50%) translateY(0); }
      30%  { transform: translateX(-50%) translateY(-60px); }
      60%  { transform: translateX(-50%) translateY(-60px); }
      100% { transform: translateX(-50%) translateY(0); }
    }

    /* Êñ∞„Åó„ÅÑ„Ç¢„Ç§„ÉÜ„É†„Çø„Ç§„Éó */
    .petal {
      position: absolute;
      width: 35px;
      height: 35px;
      background: radial-gradient(ellipse at center,
        #ffb3d9 0%, #ffc9e0 40%, #ffe0f0 80%, rgba(255, 192, 224, 0.8) 100%
      );
      border-radius: 50% 10% 50% 10%;
      box-shadow:
        0 2px 4px rgba(255, 105, 180, 0.3),
        inset 0 1px 2px rgba(255, 255, 255, 0.5);
      pointer-events: none;
      animation: fall linear;
      z-index: 1;
      filter: drop-shadow(0 0 3px rgba(255, 182, 193, 0.6));
    }

    .petal.special {
      width: 40px;
      height: 40px;
      background: radial-gradient(circle, #FFD700 0%, #FFA500 50%, #FF69B4 100%);
      filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.8));
      animation: fall-special linear;
    }

    .petal.golden {
      width: 45px;
      height: 45px;
      background: radial-gradient(circle, #FFD700 0%, #FFFF00 30%, #FFA500 70%, #FF4500 100%);
      filter: drop-shadow(0 0 15px rgba(255, 215, 0, 1)) drop-shadow(0 0 8px rgba(255, 255, 255, 0.8));
      animation: fall-golden linear;
      border: 2px solid rgba(255, 255, 255, 0.8);
    }

    .bomb {
      position: absolute; /* JavaScript„ÅßÂãï„Åã„Åô„Åü„ÇÅ */
      width: 40px;
      height: 40px;
      background: radial-gradient(circle, #FF0000 0%, #8B0000 70%, #000000 100%);
      border-radius: 50%;
      filter: drop-shadow(0 0 10px rgba(255, 0, 0, 0.8));
      animation: fall-bomb linear;
      /* position: relative; „ÅØ‰∏çË¶Å„ÄÅ„Åæ„Åü„ÅØabsolute„Å´ */
    }

    .bomb::before {
      content: 'üí£';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 25px;
      animation: bomb-pulse 0.5s infinite alternate;
    }

    @keyframes bomb-pulse {
      0% { transform: translate(-50%, -50%) scale(1); }
      100% { transform: translate(-50%, -50%) scale(1.2); }
    }

    .power-up {
      position: absolute; /* JavaScript„ÅßÂãï„Åã„Åô„Åü„ÇÅ */
      width: 45px;
      height: 45px;
      background: linear-gradient(45deg, #9370DB, #4169E1, #00CED1, #32CD32, #FFD700);
      border-radius: 50%;
      filter: drop-shadow(0 0 15px rgba(147, 112, 219, 0.8));
      animation: fall-powerup linear;
      /* position: relative; „ÅØ‰∏çË¶Å„ÄÅ„Åæ„Åü„ÅØabsolute„Å´ */
      animation-name: fall-powerup, rainbow-rotate;
      animation-duration: inherit, 1s;
      animation-iteration-count: 1, infinite;
      animation-timing-function: linear, ease-in-out;
    }

    .power-up::before {
      content: '‚≠ê';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 25px;
      animation: star-spin 2s linear infinite;
    }

    @keyframes star-spin {
      0% { transform: translate(-50%, -50%) rotate(0deg) scale(1); }
      50% { transform: translate(-50%, -50%) rotate(180deg) scale(1.2); }
      100% { transform: translate(-50%, -50%) rotate(360deg) scale(1); }
    }

    @keyframes rainbow-rotate {
      0% { filter: drop-shadow(0 0 15px rgba(147, 112, 219, 0.8)) hue-rotate(0deg); }
      100% { filter: drop-shadow(0 0 15px rgba(147, 112, 219, 0.8)) hue-rotate(360deg); }
    }

    @keyframes fall {
      0% { transform: translateY(-50px) rotate(0deg) scale(0.8); opacity: 0.6; }
      25% { opacity: 1; transform: translateY(25vh) rotate(90deg) scale(1); }
      50% { transform: translateY(50vh) rotate(180deg) scale(1.1); }
      75% { transform: translateY(75vh) rotate(270deg) scale(1); }
      100% { transform: translateY(100vh) rotate(360deg) scale(0.9); opacity: 0.8; }
    }

    @keyframes fall-special {
      0% { transform: translateY(-50px) rotate(0deg) scale(0.8); opacity: 0.8; }
      25% { opacity: 1; transform: translateY(25vh) rotate(90deg) scale(1.2); }
      50% { transform: translateY(50vh) rotate(180deg) scale(1.3); }
      75% { transform: translateY(75vh) rotate(270deg) scale(1.1); }
      100% { transform: translateY(100vh) rotate(360deg) scale(1); opacity: 0.9; }
    }

    @keyframes fall-golden {
      0% { transform: translateY(-50px) rotate(0deg) scale(0.9); opacity: 0.9; }
      25% { opacity: 1; transform: translateY(25vh) rotate(120deg) scale(1.3); }
      50% { transform: translateY(50vh) rotate(240deg) scale(1.4); }
      75% { transform: translateY(75vh) rotate(300deg) scale(1.2); }
      100% { transform: translateY(100vh) rotate(480deg) scale(1); opacity: 1; }
    }

    @keyframes fall-bomb {
      0% { transform: translateY(-50px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(180deg); opacity: 1; }
    }

    @keyframes fall-powerup {
      0% { transform: translateY(-50px) scale(0.8); opacity: 0.8; }
      25% { opacity: 1; transform: translateY(25vh) scale(1.1); }
      50% { transform: translateY(50vh) scale(1.2); }
      75% { transform: translateY(75vh) scale(1.1); }
      100% { transform: translateY(100vh) scale(1); opacity: 1; }
    }

    #scoreboard {
      position: fixed;
      top: 15px;
      right: 20px;
      font-size: 14px;
      font-weight: bold;
      color: #5a3d5c;
      background: linear-gradient(145deg,
        rgba(255, 255, 255, 0.95) 0%,
        rgba(255, 240, 250, 0.9) 100%
      );
      padding: 15px 20px;
      border-radius: 20px;
      z-index: 10;
      line-height: 1.6;
      box-shadow:
        0 8px 24px rgba(0, 0, 0, 0.15),
        0 4px 8px rgba(255, 105, 180, 0.2);
      border: 2px solid rgba(255, 182, 193, 0.4);
      backdrop-filter: blur(10px);
      min-width: 180px;
    }

    #level-display {
      position: fixed;
      top: 15px;
      left: 20px;
      font-size: 16px;
      font-weight: bold;
      color: #5a3d5c;
      background: linear-gradient(145deg,
        rgba(255, 255, 255, 0.95) 0%,
        rgba(240, 248, 255, 0.9) 100%
      );
      padding: 12px 18px;
      border-radius: 15px;
      z-index: 10;
      box-shadow:
        0 4px 12px rgba(0, 0, 0, 0.1),
        0 2px 4px rgba(65, 105, 225, 0.2);
      border: 2px solid rgba(100, 149, 237, 0.3);
      backdrop-filter: blur(5px);
    }

    .combo-display {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 24px;
      font-weight: bold;
      color: #FFD700;
      background: rgba(0, 0, 0, 0.8);
      padding: 10px 20px;
      border-radius: 15px;
      z-index: 15;
      display: none;
      animation: combo-pop 1s ease-out;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }

    @keyframes combo-pop {
      0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
      50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
      100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
    }

    #gameover {
      position: absolute;
      top: 40%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 28px;
      font-weight: bold;
      background: linear-gradient(145deg, rgba(0,0,0,0.9), rgba(50,50,50,0.8));
      color: white;
      padding: 30px 50px;
      border-radius: 20px;
      display: none;
      z-index: 20;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
      border: 2px solid rgba(255, 255, 255, 0.2);
    }

    .control-btn {
      position: fixed;
      bottom: 15px;
      width: 55px;
      height: 55px;
      font-size: 22px;
      border-radius: 50%;
      border: none;
      background: linear-gradient(145deg,
        rgba(255, 182, 193, 0.9) 0%,
        rgba(255, 105, 180, 0.8) 100%
      );
      color: white;
      z-index: 20;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
      cursor: pointer;
      box-shadow:
        0 6px 18px rgba(255, 105, 180, 0.4),
        0 3px 6px rgba(0, 0, 0, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.4);
      transition: all 0.2s ease;
    }

    .control-btn:active {
      transform: scale(0.95);
      box-shadow:
        0 3px 9px rgba(255, 105, 180, 0.4),
        0 1px 3px rgba(0, 0, 0, 0.2);
    }

    /* „Éë„ÉØ„Éº„Ç¢„ÉÉ„ÉóÂäπÊûúË°®Á§∫ */
    .power-effect {
      position: fixed;
      bottom: 150px;
      left: 20px;
      background: linear-gradient(45deg, #9370DB, #4169E1);
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: bold;
      z-index: 15;
      display: none;
      animation: power-glow 0.5s ease-in-out infinite alternate;
    }

    @keyframes power-glow {
      0% { box-shadow: 0 0 10px rgba(147, 112, 219, 0.8); }
      100% { box-shadow: 0 0 20px rgba(147, 112, 219, 1); }
    }

    /* „É¨„Çπ„Éù„É≥„Ç∑„Éñ„Éá„Ç∂„Ç§„É≥ÊîπÂñÑ */
    @media (max-height: 600px) {
      #character {
        bottom: 90px;
        max-height: 20vh;
      }
      .control-btn {
        bottom: 10px;
        width: 50px;
        height: 50px;
        font-size: 20px;
      }
      #scoreboard {
        font-size: 12px;
        padding: 10px 15px;
      }
    }

    @media (max-height: 500px) {
      #character {
        bottom: 100px;
        max-height: 18vh;
      }
    }

    /* „É¨„Éô„É´„Ç¢„ÉÉ„Éó„Ç®„Éï„Çß„ÇØ„Éà */
    .level-up-effect {
      position: fixed;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 32px;
      font-weight: bold;
      color: #FFD700;
      background: linear-gradient(45deg, rgba(255, 215, 0, 0.9), rgba(255, 140, 0, 0.8));
      padding: 20px 40px;
      border-radius: 20px;
      z-index: 25;
      display: none;
      animation: level-up-animation 2s ease-out;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
      border: 3px solid rgba(255, 255, 255, 0.8);
    }

    @keyframes level-up-animation {
      0% { transform: translate(-50%, -50%) scale(0.5) rotate(-10deg); opacity: 0; }
      30% { transform: translate(-50%, -50%) scale(1.2) rotate(5deg); opacity: 1; }
      70% { transform: translate(-50%, -50%) scale(1.1) rotate(-2deg); opacity: 1; }
      100% { transform: translate(-50%, -50%) scale(1) rotate(0deg); opacity: 0; }
    }
  </style>
</head>
<body>
  <img id="character" src="" alt="„Ç≠„É£„É©„ÇØ„Çø„Éº">

  <div id="scoreboard">
    „Çπ„Ç≥„Ç¢: <span id="score">0</span><br>
    „Éè„Ç§„Çπ„Ç≥„Ç¢: <span id="highscore">0</span><br>
    ÊÆã„Çä: <span id="timer">60</span>Áßí<br>
    „Ç≥„É≥„Éú: <span id="combo">0</span>
  </div>

  <div id="level-display">
    „É¨„Éô„É´: <span id="level">1</span>
  </div>

  <div class="combo-display" id="combo-display"></div>
  <div class="power-effect" id="power-effect"></div>
  <div class="level-up-effect" id="level-up-effect"></div>

  <div id="gameover">
    <div>„Ç≤„Éº„É†ÁµÇ‰∫ÜÔºÅ</div>
    <div style="font-size: 18px; margin-top: 10px;">
      ÊúÄÁµÇ„Çπ„Ç≥„Ç¢: <span id="final-score">0</span><br>
      Âà∞ÈÅî„É¨„Éô„É´: <span id="final-level">1</span>
    </div>
  </div>

  <script>
    // „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÅÆË®≠ÂÆöÔºàÈï∑Êäº„Åó„É°„Éã„É•„ÉºÈò≤Ê≠¢Ôºâ
    document.addEventListener('contextmenu', e => { e.preventDefault(); return false; }, { passive: false });
    document.addEventListener('selectstart', e => { e.preventDefault(); return false; }, { passive: false });
    document.addEventListener('dragstart', e => { e.preventDefault(); return false; }, { passive: false });

    // Ë¶ÅÁ¥†„ÅÆÂèñÂæó
    const character = document.getElementById("character");
    const scoreDisplay = document.getElementById("score");
    const highscoreDisplay = document.getElementById("highscore");
    const timerDisplay = document.getElementById("timer");
    const levelDisplay = document.getElementById("level");
    const comboDisplay = document.getElementById("combo");
    const comboPopup = document.getElementById("combo-display");
    const powerEffect = document.getElementById("power-effect");
    const levelUpEffect = document.getElementById("level-up-effect");
    const gameover = document.getElementById("gameover");
    const finalScore = document.getElementById("final-score");
    const finalLevel = document.getElementById("final-level");

    // ‚òÖ‚òÖ‚òÖ „Åì„Åì„Åã„ÇâËøΩÂä†: localStorage„Åã„Çâ„Ç≠„É£„É©„ÇØ„Çø„ÉºÊÉÖÂ†±„ÇíË™≠„ÅøËæº„ÇÄ ‚òÖ‚òÖ‚òÖ
    const selectedImageFile = localStorage.getItem("selectedImage");
    const selectedCharName = localStorage.getItem("selectedName");

    if (selectedImageFile && selectedCharName) {
      character.src = selectedImageFile; // ÁîªÂÉè„ÅÆ„Éë„Çπ„ÇíË®≠ÂÆö
      character.alt = selectedCharName;  // alt„ÉÜ„Ç≠„Çπ„Éà„ÇíË®≠ÂÆö
    } else {
      // localStorage„Å´ÊÉÖÂ†±„Åå„Å™„ÅÑÂ†¥Âêà (Áõ¥Êé•stage.html„ÇíÈñã„ÅÑ„ÅüÂ†¥Âêà„Å™„Å©) „ÅÆ„Éá„Éï„Ç©„É´„ÉàË®≠ÂÆö
      character.src = "shaoran_web.PNG"; // „Éá„Éï„Ç©„É´„Éà„ÅÆÁîªÂÉè
      character.alt = "„Ç∑„É£„Ç™„É©„É≥";        // „Éá„Éï„Ç©„É´„Éà„ÅÆalt„ÉÜ„Ç≠„Çπ„Éà
      console.warn("„Ç≠„É£„É©„ÇØ„Çø„ÉºÈÅ∏ÊäûÊÉÖÂ†±„ÅålocalStorage„Å´Ë¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ„Éá„Éï„Ç©„É´„Éà„Ç≠„É£„É©„ÇØ„Çø„Éº„ÇíË°®Á§∫„Åó„Åæ„Åô„ÄÇ");
    }
    // ‚òÖ‚òÖ‚òÖ ËøΩÂä†„Åì„Åì„Åæ„Åß ‚òÖ‚òÖ‚òÖ

    // „Ç≤„Éº„É†Â§âÊï∞ („Åì„Åì„Åã„Çâ‰∏ã„ÅØ„ÅîÊèêÁ§∫„ÅÆ„Ç≥„Éº„Éâ„Å®„Åª„ÅºÂêå„Åò„Åß„Åô)
    let score = 0;
    let highscore = 0;
    let timeLeft = 60;
    let level = 1;
    let combo = 0;
    let maxCombo = 0;
    let gameInterval;
    let bgParticleInterval;
    let isPowerUpActive = false;
    let powerUpEndTime = 0;
    let characterX = window.innerWidth / 2;

    // „Çµ„Ç¶„É≥„ÉâË®≠ÂÆöÔºà„Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞‰ªò„ÅçÔºâ
    let se, bgm;
    try {
      se = new Audio("kirarin.mp3"); // ÂäπÊûúÈü≥„Éï„Ç°„Ç§„É´
      bgm = new Audio("bgm.mp3");     // BGM„Éï„Ç°„Ç§„É´
      bgm.loop = true;
      bgm.volume = 0.3; // Â∞ë„ÅóÈü≥Èáè„Çí‰∏ã„Åí„Åæ„Åó„Åü
    } catch (error) {
      console.error("„Ç™„Éº„Éá„Ç£„Ç™„ÅÆÂàùÊúüÂåñ„Å´Â§±Êïó: ", error);
      se = { play: () => {}, currentTime: 0 }; // „ÉÄ„Éü„Éº
      bgm = { play: () => Promise.resolve(), loop: true, volume: 0.3 }; // „ÉÄ„Éü„Éº
    }

    // „Éè„Ç§„Çπ„Ç≥„Ç¢ÂàùÊúüÂåñ
    try {
      highscore = parseInt(localStorage.getItem("sakuraGameHighscore")) || 0; // „Ç≠„ÉºÂêç„ÇíÂ§âÊõ¥
    } catch (error) {
      console.log("„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„ÅÆ„Éè„Ç§„Çπ„Ç≥„Ç¢„Å´„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Åæ„Åõ„Çì");
    }
    highscoreDisplay.innerText = highscore;

    // ËÉåÊôØ„Éë„Éº„ÉÜ„Ç£„ÇØ„É´ÁîüÊàê
    function createBackgroundParticle() {
      const particle = document.createElement("div");
      particle.className = "bg-particle";
      particle.style.left = Math.random() * window.innerWidth + "px";
      particle.style.width = particle.style.height = (Math.random() * 8 + 4) + "px";
      particle.style.animationDuration = (Math.random() * 10 + 8) + "s";
      document.body.appendChild(particle);

      setTimeout(() => {
        if (particle.parentNode) particle.remove();
      }, 20000);
    }

    // „Ç≠„É£„É©„ÇØ„Çø„Éº‰ΩçÁΩÆÊõ¥Êñ∞
    function updateCharacterPosition() {
      character.style.left = `${characterX}px`;
    }

    // „É¨„Éô„É´Ë®àÁÆó
    function calculateLevel() {
      return Math.floor(score / 100) + 1;
    }

    // Èõ£ÊòìÂ∫¶„Å´Âü∫„Å•„Åè„Ç¢„Ç§„ÉÜ„É†ÁîüÊàêÈñìÈöî
    function getSpawnRate() {
      return Math.max(150, 700 - (level * 40)); // Â∞ë„ÅóË™øÊï¥
    }

    // „Çπ„Ç≥„Ç¢Êõ¥Êñ∞
    function updateScore(points = 1) {
      const previousLevel = level;

      if (isPowerUpActive) {
        points *= 2;
      }

      score += points;
      combo++;
      scoreDisplay.innerText = score;
      comboDisplay.innerText = combo;

      level = calculateLevel();
      levelDisplay.innerText = level;

      if (level > previousLevel) {
        showLevelUp();
        // „É¨„Éô„É´„Ç¢„ÉÉ„ÉóÊôÇ„Çø„Ç§„Éû„ÉºÂõûÂæ©„Éú„Éº„Éä„ÇπÔºà‰æãÔºâ
        // timeLeft = Math.min(timeLeft + 5, 90); // ÊúÄÂ§ß90Áßí„Åæ„Åß5ÁßíÂõûÂæ©
        // timerDisplay.innerText = timeLeft;
      }

      if (combo > 1) {
        showComboPopup();
      }

      if (combo > maxCombo) {
        maxCombo = combo;
      }

      if (se && typeof se.play === 'function') { // se„Åånull„Åß„Å™„ÅÑ„ÅãÁ¢∫Ë™ç
        se.currentTime = 0;
        se.play().catch(err => console.warn("ÂäπÊûúÈü≥ÂÜçÁîü„Ç®„É©„Éº:", err));
      }

      if (points >= 5) {
        showSpecialEffect();
      }
    }

    // „Ç≥„É≥„Éú„É™„Çª„ÉÉ„Éà
    function resetCombo() {
      combo = 0;
      comboDisplay.innerText = combo;
    }

    // „Ç≥„É≥„Éú„Éù„ÉÉ„Éó„Ç¢„ÉÉ„ÉóË°®Á§∫
    function showComboPopup() {
      comboPopup.textContent = `${combo} COMBO!`;
      comboPopup.style.display = 'block';
      setTimeout(() => {
        comboPopup.style.display = 'none';
      }, 1000);
    }

    // „É¨„Éô„É´„Ç¢„ÉÉ„ÉóË°®Á§∫
    function showLevelUp() {
      levelUpEffect.textContent = `LEVEL ${level}!`;
      levelUpEffect.style.display = 'block';
      setTimeout(() => {
        levelUpEffect.style.display = 'none';
      }, 2000);
    }

    // ÁâπÂà•„Ç®„Éï„Çß„ÇØ„Éà
    function showSpecialEffect() {
      scoreDisplay.style.transform = 'scale(1.3)';
      scoreDisplay.style.color = '#FFD700';
      setTimeout(() => {
        scoreDisplay.style.transform = 'scale(1)';
        scoreDisplay.style.color = '#5a3d5c';
      }, 500);
    }

    let powerUpTimerId = null; // „Éë„ÉØ„Éº„Ç¢„ÉÉ„Éó„ÅÆ„Çø„Ç§„Éû„ÉºID„Çí‰øùÊåÅ
    // „Éë„ÉØ„Éº„Ç¢„ÉÉ„ÉóÂäπÊûú
    function activatePowerUp() {
      if (isPowerUpActive) { // Êó¢„Å´Áô∫Âãï‰∏≠„ÅÆÂ†¥Âêà„ÄÅÊôÇÈñì„ÇíÂª∂Èï∑
        powerUpEndTime += 10000; // 10ÁßíÂª∂Èï∑
        // Êó¢Â≠ò„ÅÆ„Çø„Ç§„Éû„Éº„Çí„ÇØ„É™„Ç¢„Åó„Å¶Êñ∞„Åó„ÅÑ„Çø„Ç§„Éû„Éº„ÇíË®≠ÂÆö
        if (powerUpTimerId) clearInterval(powerUpTimerId);
      } else {
        isPowerUpActive = true;
        powerUpEndTime = Date.now() + 10000; // 10ÁßíÈñì
        character.classList.add('powerup');
        powerEffect.textContent = '‚ú®„ÉÄ„Éñ„É´„Çπ„Ç≥„Ç¢‰∏≠ÔºÅ';
        powerEffect.style.display = 'block';
      }

      powerUpTimerId = setInterval(() => {
        const remaining = Math.ceil((powerUpEndTime - Date.now()) / 1000);
        if (remaining <= 0) {
          clearInterval(powerUpTimerId);
          powerUpTimerId = null;
          deactivatePowerUp();
        } else {
          powerEffect.textContent = `‚ú®„ÉÄ„Éñ„É´„Çπ„Ç≥„Ç¢‰∏≠ÔºÅ(${remaining}s)`;
        }
      }, 100);
    }

    // „Éë„ÉØ„Éº„Ç¢„ÉÉ„ÉóËß£Èô§
    function deactivatePowerUp() {
      isPowerUpActive = false;
      character.classList.remove('powerup');
      powerEffect.style.display = 'none';
      if (powerUpTimerId) { //Âøµ„ÅÆ„Åü„ÇÅ„Çø„Ç§„Éû„Éº„ÅåÊÆã„Å£„Å¶„ÅÑ„Çå„Å∞„ÇØ„É™„Ç¢
          clearInterval(powerUpTimerId);
          powerUpTimerId = null;
      }
    }

    // „Ç¢„Ç§„ÉÜ„É†ÁîüÊàê
    function createItem() {
      if (timeLeft <= 0) return; // „Ç≤„Éº„É†ÁµÇ‰∫ÜÊôÇ„ÅØÁîüÊàê„Åó„Å™„ÅÑ

      const item = document.createElement("div");
      const rand = Math.random();
      let itemType = "normal"; // „Éá„Éï„Ç©„É´„Éà„ÅØÈÄöÂ∏∏„ÅÆËä±„Å≥„Çâ

      // „Ç¢„Ç§„ÉÜ„É†„Çø„Ç§„Éó„ÅÆÊ±∫ÂÆöÔºà„É¨„Éô„É´„Å´„Çà„Å£„Å¶Âá∫ÁèæÁéáÂ§âÂåñÔºâ
      if (rand < 0.05 && level >= 3) { // ÁàÜÂºæ („É¨„Éô„É´3‰ª•‰∏ä„Åß5%)
        itemType = "bomb";
      } else if (rand < 0.1 && level >= 2) { // „Éë„ÉØ„Éº„Ç¢„ÉÉ„Éó („É¨„Éô„É´2‰ª•‰∏ä„ÅßÊ¨°„ÅÆ5%)
        itemType = "powerup";
      } else if (rand < 0.25) { // „Ç¥„Éº„É´„Éá„É≥Ëä±„Å≥„Çâ (Ê¨°„ÅÆ15%)
        itemType = "golden";
      } else if (rand < 0.45) { // ÁâπÂà•„Å™Ëä±„Å≥„Çâ (Ê¨°„ÅÆ20%)
        itemType = "special";
      }
      // „Åù„Çå‰ª•Â§ñ„ÅØÈÄöÂ∏∏„ÅÆËä±„Å≥„Çâ (55%)

      switch(itemType) {
        case "bomb":
          item.className = "bomb";
          item.dataset.type = "bomb";
          item.dataset.points = "-10";
          break;
        case "powerup":
          item.className = "power-up";
          item.dataset.type = "powerup";
          item.dataset.points = "0"; // „Éë„ÉØ„Éº„Ç¢„ÉÉ„ÉóËá™‰Ωì„Å´„Çπ„Ç≥„Ç¢„ÅØ„Å™„Åó
          break;
        case "golden":
          item.className = "petal golden";
          item.dataset.type = "golden";
          item.dataset.points = "5";
          break;
        case "special":
          item.className = "petal special";
          item.dataset.type = "special";
          item.dataset.points = "2";
          break;
        default: // normal
          item.className = "petal";
          item.dataset.type = "normal";
          item.dataset.points = "1";
      }

      item.style.left = Math.random() * (window.innerWidth - (parseInt(item.style.width) || 40)) + "px"; // „Ç¢„Ç§„ÉÜ„É†ÂπÖ„ÇíËÄÉÊÖÆ
      // „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÊôÇÈñì„ÅØ„É¨„Éô„É´„Å´Âøú„Åò„Å¶Â∞ë„ÅóÈÄü„Åè„Åô„ÇãÔºàÊúÄ‰Ωé1.5Áßí„ÄÅ„É¨„Éô„É´„Åî„Å®„Å´0.1ÁßíÁü≠Á∏Æ„ÄÅÊúÄÂ§ß„ÅßÂÖÉ„ÅÆÈÄüÂ∫¶„ÅÆÂçäÂàÜÁ®ãÂ∫¶„Åæ„ÅßÔºâ
      let animationDuration = Math.max(1.5, (2 + Math.random() * 2) - (level * 0.1));
      item.style.animationDuration = animationDuration + "s";
      document.body.appendChild(item);

      const checkCollision = setInterval(() => {
        if (!item.parentNode || timeLeft <= 0) { // „Ç¢„Ç§„ÉÜ„É†„ÅåÂ≠òÂú®„Åó„Å™„ÅÑ„Åã„Ç≤„Éº„É†ÁµÇ‰∫Ü„Å™„ÇâÂà§ÂÆöÂÅúÊ≠¢
            clearInterval(checkCollision);
            if(item.parentNode) item.remove(); // „Ç≤„Éº„É†ÁµÇ‰∫ÜÊôÇ„Å´ÊÆã„Å£„Å¶„ÅÑ„Çå„Å∞ÂâäÈô§
            return;
        }
        const rect1 = item.getBoundingClientRect();
        const rect2 = character.getBoundingClientRect();

        if (
          rect1.top < rect2.bottom &&
          rect1.bottom > rect2.top &&
          rect1.left < rect2.right &&
          rect1.right > rect2.left
        ) {
          const type = item.dataset.type;
          const points = parseInt(item.dataset.points);

          if (type === "bomb") {
            score = Math.max(0, score + points);
            scoreDisplay.innerText = score;
            resetCombo();
            document.body.style.background = '#ff6b6b'; // „Éí„ÉÉ„Éà„Ç®„Éï„Çß„ÇØ„Éà
            setTimeout(() => {
              document.body.style.background = 'linear-gradient(135deg, #ffeef5 0%, #ffe8f0 25%, #f8e8ff 50%, #e8f0ff 75%, #f0f8ff 100%)';
            }, 150);
          } else if (type === "powerup") {
            activatePowerUp();
          } else {
            updateScore(points);
          }

          item.remove();
          clearInterval(checkCollision);
        }
      }, 30); // Âà§ÂÆöÈ†ªÂ∫¶„ÇíÂ∞ë„Åó‰∏ä„Åí„Çã

      // „Ç¢„Ç§„ÉÜ„É†„ÅåÁîªÈù¢Â§ñ„Å´Âá∫„Çã„Åã‰∏ÄÂÆöÊôÇÈñì„ÅßÂâäÈô§
      setTimeout(() => {
        if (item.parentNode) {
          item.remove();
          // ÁàÜÂºæ„Å®„Éë„ÉØ„Éº„Ç¢„ÉÉ„Éó‰ª•Â§ñ„ÇíÈÄÉ„Åó„Åü„Çâ„Ç≥„É≥„Éú„É™„Çª„ÉÉ„Éà
          if (item.dataset.type !== "bomb" && item.dataset.type !== "powerup") {
            resetCombo();
          }
        }
        clearInterval(checkCollision);
      }, animationDuration * 1000 + 200); // „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÊôÇÈñì„Çà„ÇäÂ∞ë„ÅóÈï∑„ÇÅ„Å´Ë®≠ÂÆö
    }

    let gameTimerId = null; // „Ç≤„Éº„É†„ÅÆ„É°„Ç§„É≥„Çø„Ç§„Éû„ÉºID
    let itemSpawnerId = null; // „Ç¢„Ç§„ÉÜ„É†ÁîüÊàê„ÅÆ„Ç§„É≥„Çø„Éº„Éê„É´ID

    // „Ç≤„Éº„É†ÈñãÂßã
    function startGame() {
      if (bgm && typeof bgm.play === 'function' && bgm.paused) {
        bgm.play().catch(err => console.warn("BGMÂÜçÁîü„Å´Â§±Êïó:", err));
      }

      itemSpawnerId = setInterval(createItem, getSpawnRate());
      bgParticleInterval = setInterval(createBackgroundParticle, 500);

      gameTimerId = setInterval(() => {
        if (timeLeft <= 0) { // timeLeft„Åå0‰ª•‰∏ã„Å´„Å™„Å£„Åü„Çâ„Åì„Åì„ÅßÂÖ®„Å¶„ÅÆ„Ç§„É≥„Çø„Éº„Éê„É´„Çí„ÇØ„É™„Ç¢
            clearInterval(gameTimerId);
            clearInterval(itemSpawnerId);
            clearInterval(bgParticleInterval);
            if (powerUpTimerId) clearInterval(powerUpTimerId); // „Éë„ÉØ„Éº„Ç¢„ÉÉ„Éó„Çø„Ç§„Éû„Éº„ÇÇ„ÇØ„É™„Ç¢
            endGame();
            return; // „Åì„Çå‰ª•‰∏äÂá¶ÁêÜ„ÇíÈÄ≤„ÇÅ„Å™„ÅÑ
        }

        timeLeft--;
        timerDisplay.innerText = timeLeft;

        // „Ç¢„Ç§„ÉÜ„É†ÁîüÊàêÈñìÈöî„ÇíÂãïÁöÑ„Å´Ë™øÊï¥
        clearInterval(itemSpawnerId);
        itemSpawnerId = setInterval(createItem, getSpawnRate());

      }, 1000);
    }

    // „Ç≤„Éº„É†ÁµÇ‰∫Ü
    function endGame() {
      if (bgm && typeof bgm.pause === 'function') bgm.pause(); // BGMÂÅúÊ≠¢

      finalScore.innerText = score;
      finalLevel.innerText = level;
      gameover.style.display = "block";

      if (score > highscore) {
        highscore = score; // highscoreÂ§âÊï∞„ÇíÊõ¥Êñ∞
        try {
          localStorage.setItem("sakuraGameHighscore", highscore); // Êñ∞„Åó„ÅÑ„Ç≠„ÉºÂêç„Åß‰øùÂ≠ò
          highscoreDisplay.innerText = highscore;
        } catch (error) {
          console.log("„Éè„Ç§„Çπ„Ç≥„Ç¢„ÅÆ‰øùÂ≠ò„Å´Â§±Êïó„Åó„Åæ„Åó„Åü");
        }
      }
      // ÂãïÁöÑ„Å´ÁîüÊàê„Åï„Çå„Åü„Ç¢„Ç§„ÉÜ„É†„ÇíÂÖ®„Å¶ÂâäÈô§
      document.querySelectorAll('.petal, .bomb, .power-up, .bg-particle').forEach(el => el.remove());
    }

    // „Ç≠„É£„É©„ÇØ„Çø„ÉºÊìç‰Ωú („Ç≠„Éº„Éú„Éº„Éâ)
    document.addEventListener("keydown", (e) => {
      if (timeLeft <= 0) return; // „Ç≤„Éº„É†ÁµÇ‰∫ÜÂæå„ÅØÊìç‰ΩúÁÑ°Âäπ
      let moved = false;
      if (e.key === "ArrowLeft") {
        characterX -= 30;
        moved = true;
      } else if (e.key === "ArrowRight") {
        characterX += 30;
        moved = true;
      } else if (e.key === " " || e.key === "ArrowUp") {
        e.preventDefault();
        jump();
      }
      if (moved) {
        const charRect = character.getBoundingClientRect();
        characterX = Math.max(charRect.width / 2, Math.min(window.innerWidth - (charRect.width / 2), characterX));
        updateCharacterPosition();
      }
    });

    // „Ç∏„É£„É≥„ÉóÊ©üËÉΩ
    function jump() {
      if (!character.classList.contains("jump") && timeLeft > 0) {
        character.classList.add("jump");
        setTimeout(() => character.classList.remove("jump"), 600); // CSS„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÅÆÊôÇÈñì
      }
    }

    // „Ç≠„É£„É©„ÇØ„Çø„ÉºÁîªÂÉè„ÇØ„É™„ÉÉ„ÇØ/„Çø„ÉÉ„Éó„Åß„Ç∏„É£„É≥„Éó
    character.addEventListener("click", (e) => {
      if (timeLeft <= 0) return;
      e.preventDefault(); // „Éá„Éï„Ç©„É´„Éà„ÅÆÁîªÂÉè„Éâ„É©„ÉÉ„Ç∞„Å™„Å©„ÇíÈò≤„Åê
      jump();
    }, { passive: false });

    // „Ç≥„É≥„Éà„É≠„Éº„É´„Éú„Çø„É≥„ÅÆÁîüÊàê„Å®„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº
    const leftBtn = document.createElement("button");
    leftBtn.innerText = "‚óÄ";
    leftBtn.className = "control-btn";
    leftBtn.style.left = "20px";

    const rightBtn = document.createElement("button");
    rightBtn.innerText = "‚ñ∂";
    rightBtn.className = "control-btn";
    rightBtn.style.right = "20px";

    const jumpBtn = document.createElement("button");
    jumpBtn.innerText = "‚¨Ü";
    jumpBtn.className = "control-btn";
    jumpBtn.style.right = "90px";
    jumpBtn.style.background = "linear-gradient(145deg, rgba(147, 112, 219, 0.9), rgba(65, 105, 225, 0.8))";

    document.body.appendChild(leftBtn);
    document.body.appendChild(rightBtn);
    document.body.appendChild(jumpBtn);

    let moveInterval = null;
    function startMove(direction) {
      if (moveInterval || timeLeft <= 0) return;
      moveInterval = setInterval(() => {
        if (direction === "left") {
          characterX -= 15;
        } else if (direction === "right") {
          characterX += 15;
        }
        const charRect = character.getBoundingClientRect();
        characterX = Math.max(charRect.width / 2, Math.min(window.innerWidth - (charRect.width / 2), characterX));
        updateCharacterPosition();
      }, 50);
    }

    function stopMove() {
      clearInterval(moveInterval);
      moveInterval = null;
    }

    // „Çø„ÉÉ„ÉÅ„Ç§„Éô„É≥„Éà („Ç≥„É≥„Éà„É≠„Éº„É´„Éú„Çø„É≥)
    leftBtn.addEventListener("touchstart", (e) => { e.preventDefault(); startMove("left"); }, { passive: false });
    rightBtn.addEventListener("touchstart", (e) => { e.preventDefault(); startMove("right"); }, { passive: false });
    jumpBtn.addEventListener("touchstart", (e) => { e.preventDefault(); jump(); }, { passive: false });

    // touchend/mouseup„ÅØdocument„Å´ÂØæ„Åó„Å¶Ë®≠ÂÆö„Åô„Çã„Å®„ÄÅ„Éú„Çø„É≥Â§ñ„ÅßÊåá„ÇíÈõ¢„Åó„Å¶„ÇÇÊ≠¢„Åæ„Çã
    document.addEventListener("touchend", (e) => {
        if (moveInterval) { // moveInterval„Åå„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™Â†¥Âêà„ÅÆ„ÅøstopMove„ÇíÂëº„Å∂
            // e.preventDefault(); // Áä∂Ê≥Å„Å´„Çà„Å£„Å¶ÂøÖË¶Å„Å™„Çâ
            stopMove();
        }
    }, { passive: false });


    // „Éû„Ç¶„Çπ„Ç§„Éô„É≥„Éà („Ç≥„É≥„Éà„É≠„Éº„É´„Éú„Çø„É≥)
    leftBtn.addEventListener("mousedown", () => startMove("left"));
    rightBtn.addEventListener("mousedown", () => startMove("right"));
    jumpBtn.addEventListener("mousedown", jump);
    document.addEventListener("mouseup", stopMove); // „Éú„Çø„É≥Â§ñ„ÅßÈõ¢„Åó„Å¶„ÇÇÊ≠¢„Åæ„Çã„Çà„ÅÜ„Å´

    // „Çπ„ÉØ„Ç§„ÉóÊìç‰Ωú
    let touchStartX = null;
    let touchStartY = null;
    const swipeThreshold = 30; // „Çπ„ÉØ„Ç§„Éó„Å®Âà§ÂÆö„Åô„ÇãÊúÄÂ∞èË∑ùÈõ¢

    document.addEventListener("touchstart", (e) => {
      if (timeLeft <= 0 || e.target.classList.contains('control-btn')) return;
      // ÁîªÈù¢‰∏äÈÉ®Ôºà„Çπ„Ç≥„Ç¢„Éú„Éº„Éâ„ÇÑ„É¨„Éô„É´Ë°®Á§∫‰ªòËøëÔºâ„ÅÆ„Çø„ÉÉ„ÉÅ„ÅØ„Çπ„ÉØ„Ç§„ÉóÊìç‰Ωú„Åã„ÇâÈô§Â§ñ„Åô„ÇãÔºà‰ªªÊÑèÔºâ
      // if (e.changedTouches[0].clientY < 150) return;
      touchStartX = e.changedTouches[0].clientX;
      touchStartY = e.changedTouches[0].clientY;
    }, { passive: true });

    document.addEventListener("touchmove", (e) => {
        if (timeLeft <= 0 || !touchStartX || e.target.classList.contains('control-btn')) return;

        let currentX = e.changedTouches[0].clientX;
        let deltaX = currentX - touchStartX;

        // „Ç≠„É£„É©„ÇØ„Çø„Éº„ÅÆÂπÖ„ÇíËÄÉÊÖÆ„Åó„Å¶ÁîªÈù¢Á´Ø„Åß„ÅÆÁßªÂãï„ÇíÂà∂Èôê
        const charRect = character.getBoundingClientRect();
        const minCharX = charRect.width / 2;
        const maxCharX = window.innerWidth - (charRect.width / 2);

        characterX += deltaX * 0.6; // „Çπ„ÉØ„Ç§„ÉóÊÑüÂ∫¶Ë™øÊï¥
        characterX = Math.max(minCharX, Math.min(maxCharX, characterX));
        updateCharacterPosition();

        touchStartX = currentX; // Ê¨°„ÅÆmove„Ç§„Éô„É≥„Éà„ÅÆ„Åü„ÇÅ„Å´ÈñãÂßãÁÇπ„ÇíÊõ¥Êñ∞
    }, { passive: true }); // „Çπ„É†„Éº„Ç∫„Å™Êìç‰Ωú„ÅÆ„Åü„ÇÅ

    document.addEventListener("touchend", (e) => {
      if (timeLeft <= 0 || touchStartX === null || touchStartY === null || e.target.classList.contains('control-btn')) {
        touchStartX = null; touchStartY = null; return;
      }

      const deltaX = e.changedTouches[0].clientX - touchStartX;
      const deltaY = e.changedTouches[0].clientY - touchStartY;

      // ‰∏äÊñπÂêë„Å∏„ÅÆ„Çπ„ÉØ„Ç§„Éó„Åß„Ç∏„É£„É≥„Éó
      if (Math.abs(deltaY) > Math.abs(deltaX) && deltaY < -swipeThreshold) {
        jump();
      }
      touchStartX = null;
      touchStartY = null;
    }, { passive: true });


    // „Ç¶„Ç£„É≥„Éâ„Ç¶„É™„Çµ„Ç§„Ç∫ÂØæÂøú
    window.addEventListener('resize', () => {
      const charRect = character.getBoundingClientRect();
      characterX = Math.max(charRect.width / 2, Math.min(window.innerWidth - (charRect.width / 2), characterX));
      updateCharacterPosition();
    });

    // ÂàùÊúü„Ç≠„É£„É©„ÇØ„Çø„Éº‰ΩçÁΩÆË®≠ÂÆö & BGMÂÜçÁîüË©¶Ë°å
    updateCharacterPosition();

    // BGMÂÜçÁîü„ÅØ„É¶„Éº„Ç∂„Éº„Ç§„É≥„Çø„É©„ÇØ„Ç∑„Éß„É≥Âæå„ÅåÊé®Â•®„Åï„Çå„Çã„Åü„ÇÅ„ÄÅÊúÄÂàù„ÅÆ„ÇØ„É™„ÉÉ„ÇØ/„Çø„ÉÉ„Éó„ÅßË©¶„Åø„Çã
    function attemptBgmPlay() {
        if (bgm && typeof bgm.play === 'function' && bgm.paused) {
            bgm.play().then(() => {
                // ÂÜçÁîü„Å´ÊàêÂäü„Åó„Åü„Çâ„É™„Çπ„Éä„Éº„ÇíÂâäÈô§
                document.body.removeEventListener('click', attemptBgmPlay);
                document.body.removeEventListener('touchstart', attemptBgmPlay);
            }).catch(error => {
                console.warn("BGM„ÅÆÂÜçÁîüË©¶Ë°å„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:", error);
                // Â§±Êïó„Åó„ÅüÂ†¥Âêà„Åß„ÇÇ„ÄÅÂÜçÂ∫¶Ë©¶Ë°å„Åß„Åç„Çã„Çà„ÅÜ„Å´„É™„Çπ„Éä„Éº„ÅØÊÆã„Åô„Åã„ÄÅÂà•„ÅÆUI„ÇíÁî®ÊÑè„Åô„Çã
            });
        } else if (bgm && !bgm.paused) { // „Åô„Åß„Å´ÂÜçÁîü‰∏≠„Å™„Çâ„É™„Çπ„Éä„ÉºÂâäÈô§
            document.body.removeEventListener('click', attemptBgmPlay);
            document.body.removeEventListener('touchstart', attemptBgmPlay);
        }
    }
    document.body.addEventListener('click', attemptBgmPlay, {once: true}); // ÊúÄÂàù„ÅÆ„ÇØ„É™„ÉÉ„ÇØ„ÅßË©¶„Åô
    document.body.addEventListener('touchstart', attemptBgmPlay, {once: true}); // ÊúÄÂàù„ÅÆ„Çø„ÉÉ„ÉÅ„ÅßË©¶„Åô

    // „Ç≤„Éº„É†ÈñãÂßã
    startGame();

  </script>
</body>
</html>
